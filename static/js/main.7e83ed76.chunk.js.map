{"version":3,"sources":["pages/home.js","constants.js","components/display.js","components/controls.js","components/options.js","components/gameOver.js","pages/game.js","pages/page404.js","router.js","index.js"],"names":["Home","react_default","a","createElement","className","href","target","rel","levels","classic","map","level","index","key","concat","react_router_dom","to","React","Component","UP","DOWN","LEFT","RIGHT","WALL","BOX","BOXONGOAL","PLAYER","GOAL","Display","isPlayer","player","cell","row","column","isBox","boxesString","match","JSON","stringify","isGoal","goalsString","isWall","wallssString","_this$props$data","this","props","data","walls","boxes","goals","mapLayout","mapRow","mapRowArray","mapCell","direction","Object","toConsumableArray","Controls","onClick","handleButton","Options","restartLevel","isDone","undoMove","memory","length","GameOver","Game","state","displayOptions","mapCounter","_this","Number","params","id","split","rowCounter","colCounter","setState","objectSpread","newPlayerPosition","tileInFront","boxesInGoal","wallsString","includes","parse","replace","shift","box","boxString","pop","toggleOptions","_this$state","toggleClass","display_Display","options_Options","gameOver_GameOver","controls_Controls","page404","App","basename","react_router","exact","path","process","component","render","withinLevel","isNaN","page404_page404","game_Game","Page404","rootElement","document","getElementById","ReactDOM","router_App"],"mappings":"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","file":"static/js/main.7e83ed76.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\n// data\nimport levels from \"../data/levels.json\";\n\nexport default class Home extends React.Component {\n  render() {\n    return (\n      <div className=\"homepage\">\n        <div className=\"homepage__header\">\n          <h1>SOKOBAN</h1>\n          <div className=\"homepage__description\">\n            Credits to:<br />\n            <a href=\"http://www.kenney.nl/\" \n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"link\"\n            >\n              Kenney\n            </a> for the assets!<br />\n            <a href=\"http://sokoban-jd.blogspot.com/\" \n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"link\"\n            >\n              Thinking Rabbit\n            </a> for the levels!\n          </div>\n          <p>\n            Push all the boxes until all of them are above the green gem<br />\n            Use the buttons on screen to move the character\n          </p>\n        </div>\n        <ul className=\"list\">\n          {levels.classic.map((level, index) => {\n            return (\n              <li className=\"list__item\" key={`level ${index + 1}`}>\n                <Link className=\"button button--bordered\" to={`/game/${index + 1}`}>\n                  {index + 1}\n                </Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n","// direction variables\nexport const UP = \"Up\";\nexport const DOWN = \"Down\";\nexport const LEFT = \"Left\";\nexport const RIGHT = \"Right\";\n\n// map variables\nexport const WALL = \"#\";\nexport const BOX = \"$\";\nexport const BOXONGOAL = \"*\";\nexport const PLAYER = \"@\";\nexport const GOAL = \".\";\nexport const NOTHING = \" \";\n","import React from \"react\";\n\nexport default class Display extends React.Component {\n  isPlayer = (player, cell) => player.row === cell.row && player.column === cell.column\n  isBox = (boxesString, cell) => boxesString.match(JSON.stringify(cell))\n  isGoal = (goalsString, cell) => goalsString.match(JSON.stringify(cell))\n  isWall = (wallssString, cell) => wallssString.match(JSON.stringify(cell))\n\n  render() {\n    const { player, map } = this.props.data;\n    const wallssString = JSON.stringify(map.walls);\n    const boxesString = JSON.stringify(map.boxes);\n    const goalsString = JSON.stringify(map.goals);\n    let mapLayout = [];\n\n    for (let row = 0; row < map.row; row++) {\n      let mapRow;\n      let mapRowArray = [];\n\n      for (let column = 0; column < map.column; column++) {\n        const cell = {row, column};\n        let mapCell = <td key={`${row} ${column}`} className={\n          this.isPlayer(player, cell) ? `tile tile--player${player.direction}` :\n          this.isBox(boxesString, cell) && this.isGoal(goalsString, cell) ? 'tile tile--boxOnGoal' : \n          this.isBox(boxesString, cell) ? 'tile tile--box' : \n          this.isGoal(goalsString, cell) ? 'tile tile--goal' : \n          this.isWall(wallssString, cell) ? 'tile tile--wall' : 'tile'\n        }/>;\n\n        mapRowArray = [...mapRowArray, mapCell];\n        mapRow = <tr key={row}>{mapRowArray}</tr>\n      }\n\n      mapLayout = [...mapLayout, mapRow]\n    }\n\n    return (\n      <table className=\"map\">\n        <tbody>{mapLayout}</tbody>\n      </table>\n    );\n  }\n}\n","import React from \"react\";\n\n// constants\nimport { UP, DOWN, LEFT, RIGHT } from \"../constants\";\n\nexport default class Controls extends React.Component {\n  render() {\n    return (\n      <div className=\"controller\">\n        <div className=\"controller__top\">\n          <button className=\"button button--bordered\" onClick={this.props.handleButton(UP)}>▲</button>\n        </div>\n        <div className=\"controller__middle\">\n          <button className=\"button button--bordered\" onClick={this.props.handleButton(LEFT)}>◀</button>\n          <button className=\"button button--bordered\" onClick={this.props.handleButton(RIGHT)}>▶</button>          \n        </div>\n        <div className=\"controller__bottom\">\n          <button className=\"button button--bordered\" onClick={this.props.handleButton(DOWN)}>▼</button>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default class Options extends React.Component {\r\n  render() {\r\n    return (\r\n      <ul className=\"list list--centered gamepage__options\">\r\n        <li className=\"list__item\">\r\n          <button className=\"button button--bordered\" onClick={this.props.restartLevel}>Restart</button>\r\n        </li>\r\n        <li className=\"list__item\">\r\n          <Link className=\"button button--bordered\" to=\"/\">Back to Home</Link>\r\n        </li>\r\n        { this.props.isDone ? null : <li className=\"list__item\">\r\n          <button className=\"button button--bordered\" onClick={this.props.undoMove}>Undo ({this.props.memory.length})</button>\r\n        </li>}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default class GameOver extends React.Component {\r\n  render() {\r\n    return (\r\n      <h1 className=\"gamepage__gameOver\">Game over!</h1>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\n\n// constants\nimport { UP, DOWN, LEFT, RIGHT } from \"../constants\";\nimport { WALL, BOX, PLAYER, GOAL, BOXONGOAL } from \"../constants\";\n\n// components\nimport Display from \"../components/display\";\nimport Controls from \"../components/controls\";\nimport Options from \"../components/options\";\nimport GameOver from \"../components/gameOver\";\n\n// data\nimport levels from \"../data/levels.json\";\n\nexport default class Game extends React.Component {\n  state = {\n    player: {\n      row: 0,\n      column: 0,\n      direction: DOWN\n    },\n    map: {\n      walls: [],\n      boxes: [],\n      goals: [],\n      row: 0,\n      column: 0\n    },\n    isDone: false,\n    level: null,\n    memory: [],\n    displayOptions: false\n  };\n\n  componentDidMount() {\n    this.restartLevel();\n  }\n\n  restartLevel = () => {\n    let player = {};\n    let walls = [];\n    let boxes = [];\n    let goals = [];\n    let mapCounter = {row: 0, column: 0};\n    const level = this.state.level === null ? Number(this.props.match.params.id) - 1 : this.state.level;\n    const map = levels.classic[level];\n    const mapSplit = map.split(\"/\");\n\n    mapSplit.map((mapRow, rowCounter) => {\n      mapRow.split(\"\").map((mapCell, colCounter) => {\n        switch (mapCell) {\n          case PLAYER:\n            player.row = rowCounter;\n            player.column = colCounter;\n            player.direction = DOWN;\n            break;\n          case BOXONGOAL:\n            boxes = [...boxes, { row: rowCounter, column: colCounter }];\n            goals = [...goals, { row: rowCounter, column: colCounter }];\n            break;            \n          case BOX:\n            boxes = [...boxes, { row: rowCounter, column: colCounter }];\n            break;\n          case GOAL:\n            goals = [...goals, { row: rowCounter, column: colCounter }];\n            break;\n          case WALL: \n            walls = [...walls, { row: rowCounter, column: colCounter }];\n            break;\n          default:\n            break;\n        }\n\n        mapCounter.column = colCounter > mapCounter.column ? colCounter : mapCounter.column;\n        return null;\n      });\n\n      mapCounter.row = rowCounter > mapCounter.row ? rowCounter : mapCounter.row;      \n      return null;\n    });\n\n    mapCounter.row++;\n    mapCounter.column++;\n    this.setState({\n      player,\n      map: {\n        ...mapCounter,\n        walls,\n        boxes,\n        goals,\n      },\n      level,\n      memory: []\n    });\n  };\n\n  handleButton = direction => () => {\n    let newPlayerPosition = { row: this.state.player.row, column: this.state.player.column };\n    let walls = [...this.state.map.walls];\n    let boxes = [...this.state.map.boxes];\n    let goals = [...this.state.map.goals];\n    let tileInFront = { ...newPlayerPosition };\n    let memory = [...this.state.memory];\n    let boxesInGoal = 0;\n    const wallsString = JSON.stringify(walls);\n    const boxesString = JSON.stringify(boxes);\n    const goalsString = JSON.stringify(goals);\n\n    switch (direction) {\n      case UP:\n        newPlayerPosition.row--;\n        tileInFront.row -= 2;\n        break;\n      case DOWN:\n        newPlayerPosition.row++;\n        tileInFront.row += 2;\n        break;\n      case LEFT:\n        newPlayerPosition.column--;\n        tileInFront.column -= 2;\n        break;\n      case RIGHT:\n        newPlayerPosition.column++;\n        tileInFront.column += 2;\n        break;\n      default:\n        break;\n    }\n\n    if (\n      boxesString.includes(JSON.stringify(newPlayerPosition)) &&\n      !boxesString.includes(JSON.stringify(tileInFront)) &&\n      !wallsString.includes(JSON.stringify(tileInFront))\n    ) {\n      boxes = JSON.parse(\n        boxesString.replace(\n          JSON.stringify(newPlayerPosition),\n          JSON.stringify(tileInFront)\n        )\n      );\n\n      if (memory.length === 10) memory.shift();\n\n      this.setState({\n        player: { ...newPlayerPosition, direction },\n        memory: [\n          ...memory,\n          { player: this.state.player, boxes: this.state.map.boxes }\n        ],\n        map: {\n          ...this.state.map,\n          boxes\n        }\n      });\n    } else if (\n      !wallsString.includes(JSON.stringify(newPlayerPosition)) &&\n      !boxesString.includes(JSON.stringify(newPlayerPosition))\n    ) {\n      this.setState({\n        player: { ...newPlayerPosition, direction }\n      });\n    }\n    else {\n      this.setState({\n        player: { ...this.state.player, direction }\n      });\n    }\n\n    boxes.map(box => {\n      const boxString = JSON.stringify(box);\n\n      if (goalsString.match(boxString)) boxesInGoal++;\n      if (boxesInGoal === goals.length) {\n        this.setState({\n          isDone: true\n        });\n      }\n\n      return null;\n    });\n  };\n\n  undoMove = () => {\n    if (this.state.memory.length) {\n      const memory = this.state.memory.pop();\n\n      this.setState({\n        player: memory.player,\n        map: {\n          ...this.state.map,\n          boxes: memory.boxes\n        }\n      });\n    }\n  };\n\n  toggleOptions = () => {\n    this.setState({\n      displayOptions: !this.state.displayOptions\n    })\n  }\n\n  render() {\n    const { isDone, memory, displayOptions } = this.state;\n    const toggleClass = 'button button--bordered gamepage__toggle ';\n\n    return (\n      <div className=\"gamepage\">\n        <Display data={this.state} />\n        <div className=\"gamepage--mobileView\">\n          <button onClick={this.toggleOptions} className={!isDone ? toggleClass : toggleClass + 'gamepage__toggle--hidden'}>&#9776;</button>{\n          displayOptions ? <Options restartLevel={this.restartLevel} undoMove={this.undoMove} memory={memory} isDone={isDone}/> : \n          !isDone ? <Controls handleButton={this.handleButton} /> : \n            <div>\n              <GameOver />\n              <Options restartLevel={this.restartLevel} undoMove={this.undoMove} memory={memory} isDone={isDone}/>\n            </div>\n        }</div> \n        <div className=\"gamepage--desktopView\">\n          <Options restartLevel={this.restartLevel} undoMove={this.undoMove} memory={memory} isDone={isDone}/>\n          {!isDone ? <Controls handleButton={this.handleButton} /> : <GameOver />}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default class page404 extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"homepage\">\r\n        <div className=\"homepage__header\">\r\n          <h1>Page 404</h1>\r\n          <p className=\"homepage__description\">Sorry. The page does not exist</p>\r\n        </div>\r\n        <Link className=\"button button--bordered\" to=\"/\">Back to Home</Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\n\n// pages\nimport Home from \"./pages/home\";\nimport Game from \"./pages/game\";\nimport Page404 from \"./pages/page404\";\n\n// data\nimport levels from './data/levels.json';\n\nexport default class App extends React.Component {\n  render() {\n    return (\n      <HashRouter basename=\"/sokoban\">\n        <Switch>\n          <Route exact path={`${process.env.PUBLIC_URL}/`} component={Home} />\n          <Route exact path={`${process.env.PUBLIC_URL}/game/:id`} render={(props) => {\n            const level = Number(props.match.params.id);\n            const withinLevel = level > 0 && level <= levels.classic.length;\n        \n            if (isNaN(level) || !withinLevel) return <Page404 />\n\n            return <Game {...props}/>\n          }} />\n\n          <Route component={Page404} />\n        </Switch>\n      </HashRouter>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Router from \"./router\";\n\nimport './css/style.css';\n\nfunction App() {\n  return <Router />;\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}