{"version":3,"sources":["pages/home.js","constants.js","components/display.js","components/controls.js","components/options.js","components/gameOver.js","pages/game.js","pages/page404.js","router.js","index.js"],"names":["Home","_this","this","react_default","a","createElement","className","href","target","rel","levels","classic","map","level","index","key","concat","react_router_dom","props","completeLevels","includes","to","React","Component","UP","DOWN","LEFT","RIGHT","WALL","BOX","BOXONGOAL","PLAYER","GOAL","Display","isPlayer","player","cell","row","column","isBox","boxesString","match","JSON","stringify","isGoal","goalsString","isWall","wallssString","_this$props$data","data","walls","boxes","goals","mapLayout","mapRow","mapRowArray","mapCell","direction","Object","toConsumableArray","Controls","onClick","handleButton","Options","restartLevel","isDone","undoMove","memory","length","GameOver","Game","state","displayOptions","mapCounter","Number","params","id","split","rowCounter","colCounter","setState","objectSpread","newPlayerPosition","tileInFront","boxesInGoal","wallsString","parse","replace","shift","box","boxString","addToCompleteLevels","pop","toggleOptions","handleKeyPress","event","document","addEventListener","prevProps","removeEventListener","_this$state","toggleClass","display_Display","options_Options","gameOver_GameOver","controls_Controls","page404","App","_this2","react_router","exact","path","render","home_Home","withinLevel","isNaN","page404_page404","game_Game","assign","component","Page404","rootElement","getElementById","ReactDOM","router_App"],"mappings":"wwXAMqBA,mLACV,IAAAC,EAAAC,KACP,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBAAf,cACaH,EAAAC,EAAAC,cAAA,WACXF,EAAAC,EAAAC,cAAA,KAAGE,KAAK,wBACNC,OAAO,SACPC,IAAI,sBACJH,UAAU,QAHZ,UAFF,mBAQsBH,EAAAC,EAAAC,cAAA,WACpBF,EAAAC,EAAAC,cAAA,KAAGE,KAAK,kCACNC,OAAO,SACPC,IAAI,sBACJH,UAAU,QAHZ,mBATF,oBAiBAH,EAAAC,EAAAC,cAAA,wEAC8DF,EAAAC,EAAAC,cAAA,WAD9D,yEAKFF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,QACXI,EAAOC,QAAQC,IAAI,SAACC,EAAOC,GAC1B,OACEX,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAaS,IAAG,SAAAC,OAAWF,EAAQ,IAC/CX,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAMX,UAAWL,EAAKiB,MAAMC,eAAeC,SAASN,GAAS,uBAAyB,0BAA2BO,GAAE,SAAAL,OAAWF,EAAQ,IACnIA,EAAQ,eAjCOQ,IAAMC,mBCL3BC,EAAK,KACLC,EAAO,OACPC,EAAO,OACPC,EAAQ,QAGRC,EAAO,IACPC,EAAM,IACNC,EAAY,IACZC,EAAS,IACTC,EAAO,ICTCC,6MACnBC,SAAW,SAACC,EAAQC,GAAT,OAAkBD,EAAOE,MAAQD,EAAKC,KAAOF,EAAOG,SAAWF,EAAKE,UAC/EC,MAAQ,SAACC,EAAaJ,GAAd,OAAuBI,EAAYC,MAAMC,KAAKC,UAAUP,OAChEQ,OAAS,SAACC,EAAaT,GAAd,OAAuBS,EAAYJ,MAAMC,KAAKC,UAAUP,OACjEU,OAAS,SAACC,EAAcX,GAAf,OAAwBW,EAAaN,MAAMC,KAAKC,UAAUP,6EASjE,IAPO,IAAAY,EACiB9C,KAAKgB,MAAM+B,KAA3Bd,EADDa,EACCb,OAAQvB,EADToC,EACSpC,IACVmC,EAAeL,KAAKC,UAAU/B,EAAIsC,OAClCV,EAAcE,KAAKC,UAAU/B,EAAIuC,OACjCN,EAAcH,KAAKC,UAAU/B,EAAIwC,OACnCC,EAAY,GAEPhB,EAAM,EAAGA,EAAMzB,EAAIyB,IAAKA,IAAO,CAItC,IAHA,IAAIiB,OAAM,EACNC,EAAc,GAETjB,EAAS,EAAGA,EAAS1B,EAAI0B,OAAQA,IAAU,CAClD,IAAMF,EAAO,CAACC,MAAKC,UACfkB,EAAUrD,EAAAC,EAAAC,cAAA,MAAIU,IAAG,GAAAC,OAAKqB,EAAL,KAAArB,OAAYsB,GAAUhC,UACzCJ,KAAKgC,SAASC,EAAQC,GAAtB,oBAAApB,OAAkDmB,EAAOsB,WACzDvD,KAAKqC,MAAMC,EAAaJ,IAASlC,KAAK0C,OAAOC,EAAaT,GAAQ,uBAClElC,KAAKqC,MAAMC,EAAaJ,GAAQ,iBAChClC,KAAK0C,OAAOC,EAAaT,GAAQ,kBACjClC,KAAK4C,OAAOC,EAAcX,GAAQ,kBAAoB,SAGxDmB,EAAW,GAAAvC,OAAA0C,OAAAC,EAAA,EAAAD,CAAOH,GAAP,CAAoBC,IAC/BF,EAASnD,EAAAC,EAAAC,cAAA,MAAIU,IAAKsB,GAAMkB,GAG1BF,EAAS,GAAArC,OAAA0C,OAAAC,EAAA,EAAAD,CAAOL,GAAP,CAAkBC,IAG7B,OACEnD,EAAAC,EAAAC,cAAA,SAAOC,UAAU,OACfH,EAAAC,EAAAC,cAAA,aAAQgD,WApCqB/B,IAAMC,WCGtBqC,mLAEjB,OACEzD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,0BAA0BuD,QAAS3D,KAAKgB,MAAM4C,aAAatC,IAC3ErB,EAAAC,EAAAC,cAAA,QAAMC,UAAU,qBAGpBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,0BAA0BuD,QAAS3D,KAAKgB,MAAM4C,aAAapC,IAC3EvB,EAAAC,EAAAC,cAAA,QAAMC,UAAU,sBAElBH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,0BAA0BuD,QAAS3D,KAAKgB,MAAM4C,aAAanC,IAC3ExB,EAAAC,EAAAC,cAAA,QAAMC,UAAU,wBAGpBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,0BAA0BuD,QAAS3D,KAAKgB,MAAM4C,aAAarC,IAC3EtB,EAAAC,EAAAC,cAAA,QAAMC,UAAU,+BAnBUgB,IAAMC,WCFvBwC,mLAEjB,OACE5D,EAAAC,EAAAC,cAAA,MAAIC,UAAU,yCACZH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cACZH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,0BAA0BuD,QAAS3D,KAAKgB,MAAM8C,cAC9D7D,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAGpBH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cACZH,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAMX,UAAU,0BAA0Be,GAAG,KAC3ClB,EAAAC,EAAAC,cAAA,QAAMC,UAAU,iBAGpBH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cACXJ,KAAKgB,MAAM+C,OACV9D,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAMX,UAAU,0BAA0Be,GAAE,SAAAL,OAAWd,KAAKgB,MAAML,MAAQ,IACxEV,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAElBH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,0BAA0BuD,QAAS3D,KAAKgB,MAAMgD,UAC9D/D,EAAAC,EAAAC,cAAA,QAAMC,UAAU,kBAAwB,IAD1C,IACgDJ,KAAKgB,MAAMiD,OAAOC,OADlE,cAnByB9C,IAAMC,WCDtB8C,mLAEjB,OACElE,EAAAC,EAAAC,cAAA,MAAIC,UAAU,sBAAd,oBAHgCgB,IAAMC,WCavB+C,6MACnBC,MAAQ,CACNpC,OAAQ,CACNE,IAAK,EACLC,OAAQ,EACRmB,UAAWhC,GAEbb,IAAK,CACHsC,MAAO,GACPC,MAAO,GACPC,MAAO,GACPf,IAAK,EACLC,OAAQ,GAEV2B,QAAQ,EACRE,OAAQ,GACRK,gBAAgB,KAqBlBR,aAAe,WACb,IAAI7B,EAAS,GACTe,EAAQ,GACRC,EAAQ,GACRC,EAAQ,GACRqB,EAAa,CAACpC,IAAK,EAAGC,OAAQ,GAC5BzB,EAAQ6D,OAAOzE,EAAKiB,MAAMuB,MAAMkC,OAAOC,IAAM,EACvClE,EAAOC,QAAQE,GACNgE,MAAM,KAElBjE,IAAI,SAAC0C,EAAQwB,GA8BpB,OA7BAxB,EAAOuB,MAAM,IAAIjE,IAAI,SAAC4C,EAASuB,GAC7B,OAAQvB,GACN,KAAKzB,EACHI,EAAOE,IAAMyC,EACb3C,EAAOG,OAASyC,EAChB5C,EAAOsB,UAAYhC,EACnB,MACF,KAAKK,EACHqB,EAAK,GAAAnC,OAAA0C,OAAAC,EAAA,EAAAD,CAAOP,GAAP,CAAc,CAAEd,IAAKyC,EAAYxC,OAAQyC,KAC9C3B,EAAK,GAAApC,OAAA0C,OAAAC,EAAA,EAAAD,CAAON,GAAP,CAAc,CAAEf,IAAKyC,EAAYxC,OAAQyC,KAC9C,MACF,KAAKlD,EACHsB,EAAK,GAAAnC,OAAA0C,OAAAC,EAAA,EAAAD,CAAOP,GAAP,CAAc,CAAEd,IAAKyC,EAAYxC,OAAQyC,KAC9C,MACF,KAAK/C,EACHoB,EAAK,GAAApC,OAAA0C,OAAAC,EAAA,EAAAD,CAAON,GAAP,CAAc,CAAEf,IAAKyC,EAAYxC,OAAQyC,KAC9C,MACF,KAAKnD,EACHsB,EAAK,GAAAlC,OAAA0C,OAAAC,EAAA,EAAAD,CAAOR,GAAP,CAAc,CAAEb,IAAKyC,EAAYxC,OAAQyC,KAOlD,OADAN,EAAWnC,OAASyC,EAAaN,EAAWnC,OAASyC,EAAaN,EAAWnC,OACtE,OAGTmC,EAAWpC,IAAMyC,EAAaL,EAAWpC,IAAMyC,EAAaL,EAAWpC,IAChE,OAGToC,EAAWpC,MACXoC,EAAWnC,SACXrC,EAAK+E,SAAS,CACZ7C,SACAvB,IAAI8C,OAAAuB,EAAA,EAAAvB,CAAA,GACCe,EADF,CAEDvB,QACAC,QACAC,UAEFvC,QACAsD,OAAQ,GACRF,QAAQ,OAIZH,aAAe,SAAAL,GAAS,OAAI,WAC1B,IAAIyB,EAAoB,CAAE7C,IAAKpC,EAAKsE,MAAMpC,OAAOE,IAAKC,OAAQrC,EAAKsE,MAAMpC,OAAOG,QAC5EY,EAAKQ,OAAAC,EAAA,EAAAD,CAAOzD,EAAKsE,MAAM3D,IAAIsC,OAC3BC,EAAKO,OAAAC,EAAA,EAAAD,CAAOzD,EAAKsE,MAAM3D,IAAIuC,OAC3BC,EAAKM,OAAAC,EAAA,EAAAD,CAAOzD,EAAKsE,MAAM3D,IAAIwC,OAC3B+B,EAAWzB,OAAAuB,EAAA,EAAAvB,CAAA,GAAQwB,GACnBf,EAAMT,OAAAC,EAAA,EAAAD,CAAOzD,EAAKsE,MAAMJ,QACxBiB,EAAc,EACZC,EAAc3C,KAAKC,UAAUO,GAC7BV,EAAcE,KAAKC,UAAUQ,GAC7BN,EAAcH,KAAKC,UAAUS,GAEnC,OAAQK,GACN,KAAKjC,EACH0D,EAAkB7C,MAClB8C,EAAY9C,KAAO,EACnB,MACF,KAAKZ,EACHyD,EAAkB7C,MAClB8C,EAAY9C,KAAO,EACnB,MACF,KAAKX,EACHwD,EAAkB5C,SAClB6C,EAAY7C,QAAU,EACtB,MACF,KAAKX,EACHuD,EAAkB5C,SAClB6C,EAAY7C,QAAU,GAOxBE,EAAYpB,SAASsB,KAAKC,UAAUuC,KACnC1C,EAAYpB,SAASsB,KAAKC,UAAUwC,KACpCE,EAAYjE,SAASsB,KAAKC,UAAUwC,IAuBpCE,EAAYjE,SAASsB,KAAKC,UAAUuC,KACpC1C,EAAYpB,SAASsB,KAAKC,UAAUuC,IAOrCjF,EAAK+E,SAAS,CACZ7C,OAAOuB,OAAAuB,EAAA,EAAAvB,CAAA,GAAMzD,EAAKsE,MAAMpC,OAAlB,CAA0BsB,gBANlCxD,EAAK+E,SAAS,CACZ7C,OAAOuB,OAAAuB,EAAA,EAAAvB,CAAA,GAAMwB,EAAP,CAA0BzB,iBAzBlCN,EAAQT,KAAK4C,MACX9C,EAAY+C,QACV7C,KAAKC,UAAUuC,GACfxC,KAAKC,UAAUwC,KAIG,KAAlBhB,EAAOC,QAAeD,EAAOqB,QAEjCvF,EAAK+E,SAAS,CACZ7C,OAAOuB,OAAAuB,EAAA,EAAAvB,CAAA,GAAMwB,EAAP,CAA0BzB,cAChCU,OAAM,GAAAnD,OAAA0C,OAAAC,EAAA,EAAAD,CACDS,GADC,CAEJ,CAAEhC,OAAQlC,EAAKsE,MAAMpC,OAAQgB,MAAOlD,EAAKsE,MAAM3D,IAAIuC,SAErDvC,IAAI8C,OAAAuB,EAAA,EAAAvB,CAAA,GACCzD,EAAKsE,MAAM3D,IADb,CAEDuC,aAiBNA,EAAMvC,IAAI,SAAA6E,GACR,IAAMC,EAAYhD,KAAKC,UAAU8C,GAUjC,OARI5C,EAAYJ,MAAMiD,IAAYN,IAC9BA,IAAgBhC,EAAMgB,SACxBnE,EAAKiB,MAAMyE,oBAAoBjB,OAAOzE,EAAKiB,MAAMuB,MAAMkC,OAAOC,IAAM,EAApE3E,GACAA,EAAK+E,SAAS,CACZf,QAAQ,KAIL,WAIXC,SAAW,WACT,GAAIjE,EAAKsE,MAAMJ,OAAOC,OAAQ,CAC5B,IAAMD,EAASlE,EAAKsE,MAAMJ,OAAOyB,MAEjC3F,EAAK+E,SAAS,CACZ7C,OAAQgC,EAAOhC,OACfvB,IAAI8C,OAAAuB,EAAA,EAAAvB,CAAA,GACCzD,EAAKsE,MAAM3D,IADb,CAEDuC,MAAOgB,EAAOhB,cAMtB0C,cAAgB,WACd5F,EAAK+E,SAAS,CACZR,gBAAiBvE,EAAKsE,MAAMC,oBAIhCsB,eAAiB,SAACC,GAChB,IAA0B,IAAtB9F,EAAKsE,MAAMN,OACb,OAAO8B,EAAMhF,KACX,IAAK,UACL,IAAK,IACHd,EAAK6D,aAAatC,EAAlBvB,GACA,MACF,IAAK,YACL,IAAK,IACHA,EAAK6D,aAAarC,EAAlBxB,GACA,MACF,IAAK,YACL,IAAK,IACHA,EAAK6D,aAAapC,EAAlBzB,GACA,MACF,IAAK,aACL,IAAK,IACHA,EAAK6D,aAAanC,EAAlB1B,wFAxMNC,KAAK8D,eACLgC,SAASC,iBAAiB,UAAW/F,KAAK4F,gBAAgB,8CAGzCI,GACbhG,KAAKgB,MAAMuB,MAAMkC,OAAOC,KAAOsB,EAAUzD,MAAMkC,OAAOC,KACxD1E,KAAK8D,eACL9D,KAAK8E,SAAS,CACZf,QAAQ,oDAMZ+B,SAASG,oBAAoB,UAAWjG,KAAK4F,gBAAgB,oCAkMtD,IAAAM,EACoClG,KAAKqE,MAAxCN,EADDmC,EACCnC,OAAQE,EADTiC,EACSjC,OAAQK,EADjB4B,EACiB5B,eAClB6B,EAAc,4CAEpB,OACElG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAACiG,EAAD,CAASrD,KAAM/C,KAAKqE,QACpBpE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACbH,EAAAC,EAAAC,cAAA,UAAQwD,QAAS3D,KAAK2F,cAAevF,UAAY2D,EAAuBoC,EAAc,2BAA5BA,GACxDlG,EAAAC,EAAAC,cAAA,QAAMC,UAAU,gBAElBkE,EAAiBrE,EAAAC,EAAAC,cAACkG,EAAD,CAASvC,aAAc9D,KAAK8D,aAAcE,SAAUhE,KAAKgE,SAAUC,OAAQA,EAAQF,OAAQA,IAC3GA,EACC9D,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACmG,EAAD,MACArG,EAAAC,EAAAC,cAACkG,EAAD,CAASvC,aAAc9D,KAAK8D,aAAcE,SAAUhE,KAAKgE,SAAUC,OAAQA,EAAQF,OAAQA,EAAQpD,MAAO6D,OAAOxE,KAAKgB,MAAMuB,MAAMkC,OAAOC,OAHnIzE,EAAAC,EAAAC,cAACoG,EAAD,CAAU3C,aAAc5D,KAAK4D,gBAMzC3D,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBACX2D,EAAwD9D,EAAAC,EAAAC,cAACmG,EAAD,MAA/CrG,EAAAC,EAAAC,cAACoG,EAAD,CAAU3C,aAAc5D,KAAK4D,eACxC3D,EAAAC,EAAAC,cAACkG,EAAD,CAASvC,aAAc9D,KAAK8D,aAAcE,SAAUhE,KAAKgE,SAAUC,OAAQA,EAAQF,OAAQA,EAAQpD,MAAO6D,OAAOxE,KAAKgB,MAAMuB,MAAMkC,OAAOC,eAxPjHtD,IAAMC,WCZnBmF,mLAEjB,OACEvG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,KAAGC,UAAU,qBAAb,mCAEFH,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAMX,UAAU,0BAA0Be,GAAG,KAA7C,wBAR6BC,IAAMC,WCQtBoF,6MACnBpC,MAAQ,CACNpD,eAAgB,MAGlBwE,oBAAsB,SAAA9E,GAAK,OAAI,WAC7BZ,EAAK+E,SAAS,CACZ7D,eAAc,GAAAH,OAAA0C,OAAAC,EAAA,EAAAD,CAAMzD,EAAKsE,MAAMpD,gBAAjB,CAAiCN,gFAI1C,IAAA+F,EAAA1G,KACP,OACEC,EAAAC,EAAAC,cAACY,EAAA,EAAD,KACEd,EAAAC,EAAAC,cAACwG,EAAA,EAAD,KACE1G,EAAAC,EAAAC,cAACwG,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,OAAQ,kBAAM7G,EAAAC,EAAAC,cAAC4G,EAAD,CAAM9F,eAAgByF,EAAKrC,MAAMpD,oBACrEhB,EAAAC,EAAAC,cAACwG,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,YAAYC,OAAQ,SAAC9F,GACrC,IAAML,EAAQ6D,OAAOxD,EAAMuB,MAAMkC,OAAOC,IAClCsC,EAAcrG,EAAQ,GAAKA,GAASH,EAAOC,QAAQyD,OAEzD,OAAI+C,MAAMtG,KAAWqG,EAAoB/G,EAAAC,EAAAC,cAAC+G,EAAD,MAElCjH,EAAAC,EAAAC,cAACgH,EAAD3D,OAAA4D,OAAA,GAAUpG,EAAV,CAAiByE,oBAAqBiB,EAAKjB,0BAGpDxF,EAAAC,EAAAC,cAACwG,EAAA,EAAD,CAAOU,UAAWC,aAzBKlG,IAAMC,iBCDvC,IAAMkG,EAAczB,SAAS0B,eAAe,QAC5CC,IAASX,OAAO7G,EAAAC,EAAAC,cALhB,WACE,OAAOF,EAAAC,EAAAC,cAACuH,EAAD,OAIO,MAASH","file":"static/js/main.6e5e5cd2.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\n// data\nimport levels from \"../data/levels.json\";\n\nexport default class Home extends React.Component {\n  render() {\n    return (\n      <div className=\"page\">\n        <div className=\"page__header\">\n          <h1>SOKOBAN</h1>\n          <div className=\"page__description\">\n            Credits to:<br />\n            <a href=\"http://www.kenney.nl/\" \n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"link\"\n            >\n              Kenney\n            </a> for the assets!<br />\n            <a href=\"http://sokoban-jd.blogspot.com/\" \n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"link\"\n            >\n              Thinking Rabbit\n            </a> for the levels!\n          </div>\n          <p>\n            Push all the boxes until all of them are above the green gem<br />\n            Use the buttons on screen (or WASD/arrow keys) to move the character\n          </p>\n        </div>\n        <ul className=\"list\">\n          {levels.classic.map((level, index) => {\n            return (\n              <li className=\"list__item\" key={`level ${index + 1}`}>\n                <Link className={this.props.completeLevels.includes(index) ? \"button button--green\" : \"button button--bordered\"} to={`/game/${index + 1}`}>\n                  {index + 1}\n                </Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n","// direction variables\nexport const UP = \"Up\";\nexport const DOWN = \"Down\";\nexport const LEFT = \"Left\";\nexport const RIGHT = \"Right\";\n\n// map variables\nexport const WALL = \"#\";\nexport const BOX = \"$\";\nexport const BOXONGOAL = \"*\";\nexport const PLAYER = \"@\";\nexport const GOAL = \".\";\nexport const NOTHING = \" \";\n","import React from \"react\";\n\nexport default class Display extends React.Component {\n  isPlayer = (player, cell) => player.row === cell.row && player.column === cell.column\n  isBox = (boxesString, cell) => boxesString.match(JSON.stringify(cell))\n  isGoal = (goalsString, cell) => goalsString.match(JSON.stringify(cell))\n  isWall = (wallssString, cell) => wallssString.match(JSON.stringify(cell))\n\n  render() {\n    const { player, map } = this.props.data;\n    const wallssString = JSON.stringify(map.walls);\n    const boxesString = JSON.stringify(map.boxes);\n    const goalsString = JSON.stringify(map.goals);\n    let mapLayout = [];\n\n    for (let row = 0; row < map.row; row++) {\n      let mapRow;\n      let mapRowArray = [];\n\n      for (let column = 0; column < map.column; column++) {\n        const cell = {row, column};\n        let mapCell = <td key={`${row} ${column}`} className={\n          this.isPlayer(player, cell) ? `tile tile--player${player.direction}` :\n          this.isBox(boxesString, cell) && this.isGoal(goalsString, cell) ? 'tile tile--boxOnGoal' : \n          this.isBox(boxesString, cell) ? 'tile tile--box' : \n          this.isGoal(goalsString, cell) ? 'tile tile--goal' : \n          this.isWall(wallssString, cell) ? 'tile tile--wall' : 'tile'\n        }/>;\n\n        mapRowArray = [...mapRowArray, mapCell];\n        mapRow = <tr key={row}>{mapRowArray}</tr>\n      }\n\n      mapLayout = [...mapLayout, mapRow]\n    }\n\n    return (\n      <table className=\"map\">\n        <tbody>{mapLayout}</tbody>\n      </table>\n    );\n  }\n}\n","import React from \"react\";\n\n// constants\nimport { UP, DOWN, LEFT, RIGHT } from \"../constants\";\n\nexport default class Controls extends React.Component {\n  render() {\n    return (\n      <div className=\"controller\">\n        <div className=\"controller__top\">\n          <button className=\"button button--bordered\" onClick={this.props.handleButton(UP)}>\n            <span className=\"fa fa-angle-up\"></span>\n          </button>\n        </div>\n        <div className=\"controller__middle\">\n          <button className=\"button button--bordered\" onClick={this.props.handleButton(LEFT)}>\n            <span className=\"fa fa-angle-left\"></span>\n          </button>\n          <button className=\"button button--bordered\" onClick={this.props.handleButton(RIGHT)}>\n            <span className=\"fa fa-angle-right\"></span>\n          </button>\n        </div>\n        <div className=\"controller__bottom\">\n          <button className=\"button button--bordered\" onClick={this.props.handleButton(DOWN)}>\n            <span className=\"fa fa-angle-down\"></span>\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default class Options extends React.Component {\r\n  render() {\r\n    return (\r\n      <ul className=\"list list--centered gamepage__options\">\r\n        <li className=\"list__item\">\r\n          <button className=\"button button--bordered\" onClick={this.props.restartLevel}>\r\n            <span className=\"fa fa-refresh\"></span>\r\n          </button>\r\n        </li>\r\n        <li className=\"list__item\">\r\n          <Link className=\"button button--bordered\" to=\"/\">\r\n            <span className=\"fa fa-home\"></span>\r\n          </Link>\r\n        </li>\r\n        <li className=\"list__item\">\r\n          {this.props.isDone ? \r\n            <Link className=\"button button--bordered\" to={`/game/${this.props.level + 1}`}>\r\n              <span className=\"fa fa-level-up\"></span>\r\n            </Link> : \r\n            <button className=\"button button--bordered\" onClick={this.props.undoMove}>\r\n              <span className=\"fa fa-history\"></span>{\" \"}({this.props.memory.length})\r\n            </button>\r\n          }\r\n        </li>\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default class GameOver extends React.Component {\r\n  render() {\r\n    return (\r\n      <h1 className=\"gamepage__gameOver\">Good job!</h1>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\n\n// constants\nimport { UP, DOWN, LEFT, RIGHT } from \"../constants\";\nimport { WALL, BOX, PLAYER, GOAL, BOXONGOAL } from \"../constants\";\n\n// components\nimport Display from \"../components/display\";\nimport Controls from \"../components/controls\";\nimport Options from \"../components/options\";\nimport GameOver from \"../components/gameOver\";\n\n// data\nimport levels from \"../data/levels.json\";\n\nexport default class Game extends React.Component {\n  state = {\n    player: {\n      row: 0,\n      column: 0,\n      direction: DOWN\n    },\n    map: {\n      walls: [],\n      boxes: [],\n      goals: [],\n      row: 0,\n      column: 0\n    },\n    isDone: false,\n    memory: [],\n    displayOptions: false\n  };\n\n  componentDidMount() {\n    this.restartLevel();\n    document.addEventListener(\"keydown\", this.handleKeyPress, false);    \n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.match.params.id !== prevProps.match.params.id) {\n      this.restartLevel();\n      this.setState({\n        isDone: false\n      })\n    }\n   }\n\n  componentWillUnmount(){\n    document.removeEventListener(\"keydown\", this.handleKeyPress, false);\n  }\n\n  restartLevel = () => {\n    let player = {};\n    let walls = [];\n    let boxes = [];\n    let goals = [];\n    let mapCounter = {row: 0, column: 0};\n    const level = Number(this.props.match.params.id) - 1;\n    const map = levels.classic[level];\n    const mapSplit = map.split(\"/\");\n\n    mapSplit.map((mapRow, rowCounter) => {\n      mapRow.split(\"\").map((mapCell, colCounter) => {\n        switch (mapCell) {\n          case PLAYER:\n            player.row = rowCounter;\n            player.column = colCounter;\n            player.direction = DOWN;\n            break;\n          case BOXONGOAL:\n            boxes = [...boxes, { row: rowCounter, column: colCounter }];\n            goals = [...goals, { row: rowCounter, column: colCounter }];\n            break;            \n          case BOX:\n            boxes = [...boxes, { row: rowCounter, column: colCounter }];\n            break;\n          case GOAL:\n            goals = [...goals, { row: rowCounter, column: colCounter }];\n            break;\n          case WALL: \n            walls = [...walls, { row: rowCounter, column: colCounter }];\n            break;\n          default:\n            break;\n        }\n\n        mapCounter.column = colCounter > mapCounter.column ? colCounter : mapCounter.column;\n        return null;\n      });\n\n      mapCounter.row = rowCounter > mapCounter.row ? rowCounter : mapCounter.row;      \n      return null;\n    });\n\n    mapCounter.row++;\n    mapCounter.column++;\n    this.setState({\n      player,\n      map: {\n        ...mapCounter,\n        walls,\n        boxes,\n        goals,\n      },\n      level,\n      memory: [],\n      isDone: false\n    });\n  };\n\n  handleButton = direction => () => {\n    let newPlayerPosition = { row: this.state.player.row, column: this.state.player.column };\n    let walls = [...this.state.map.walls];\n    let boxes = [...this.state.map.boxes];\n    let goals = [...this.state.map.goals];\n    let tileInFront = { ...newPlayerPosition };\n    let memory = [...this.state.memory];\n    let boxesInGoal = 0;\n    const wallsString = JSON.stringify(walls);\n    const boxesString = JSON.stringify(boxes);\n    const goalsString = JSON.stringify(goals);\n\n    switch (direction) {\n      case UP:\n        newPlayerPosition.row--;\n        tileInFront.row -= 2;\n        break;\n      case DOWN:\n        newPlayerPosition.row++;\n        tileInFront.row += 2;\n        break;\n      case LEFT:\n        newPlayerPosition.column--;\n        tileInFront.column -= 2;\n        break;\n      case RIGHT:\n        newPlayerPosition.column++;\n        tileInFront.column += 2;\n        break;\n      default:\n        break;\n    }\n\n    if (\n      boxesString.includes(JSON.stringify(newPlayerPosition)) &&\n      !boxesString.includes(JSON.stringify(tileInFront)) &&\n      !wallsString.includes(JSON.stringify(tileInFront))\n    ) {\n      boxes = JSON.parse(\n        boxesString.replace(\n          JSON.stringify(newPlayerPosition),\n          JSON.stringify(tileInFront)\n        )\n      );\n\n      if (memory.length === 10) memory.shift();\n\n      this.setState({\n        player: { ...newPlayerPosition, direction },\n        memory: [\n          ...memory,\n          { player: this.state.player, boxes: this.state.map.boxes }\n        ],\n        map: {\n          ...this.state.map,\n          boxes\n        }\n      });\n    } else if (\n      !wallsString.includes(JSON.stringify(newPlayerPosition)) &&\n      !boxesString.includes(JSON.stringify(newPlayerPosition))\n    ) {\n      this.setState({\n        player: { ...newPlayerPosition, direction }\n      });\n    }\n    else {\n      this.setState({\n        player: { ...this.state.player, direction }\n      });\n    }\n\n    boxes.map(box => {\n      const boxString = JSON.stringify(box);\n\n      if (goalsString.match(boxString)) boxesInGoal++;\n      if (boxesInGoal === goals.length) {\n        this.props.addToCompleteLevels(Number(this.props.match.params.id) - 1)();\n        this.setState({\n          isDone: true\n        });\n      }\n\n      return null;\n    });\n  };\n\n  undoMove = () => {\n    if (this.state.memory.length) {\n      const memory = this.state.memory.pop();\n\n      this.setState({\n        player: memory.player,\n        map: {\n          ...this.state.map,\n          boxes: memory.boxes\n        }\n      });\n    }\n  };\n\n  toggleOptions = () => {\n    this.setState({\n      displayOptions: !this.state.displayOptions\n    })\n  }\n\n  handleKeyPress = (event) => {\n    if (this.state.isDone === false) {\n      switch(event.key) {\n        case 'ArrowUp':\n        case 'w':\n          this.handleButton(UP)();\n          break;\n        case 'ArrowDown':\n        case 's':\n          this.handleButton(DOWN)();\n          break;\n        case 'ArrowLeft':\n        case 'a':\n          this.handleButton(LEFT)();\n          break;\n        case 'ArrowRight':\n        case 'd':\n          this.handleButton(RIGHT)();\n          break;\n        default:\n          break;\n      }\n    }\n  }\n\n  render() {\n    const { isDone, memory, displayOptions } = this.state;\n    const toggleClass = 'button button--bordered gamepage__toggle ';\n\n    return (\n      <div className=\"gamepage\">\n        <Display data={this.state} />\n        <div className=\"gamepage--mobileView\">\n          <button onClick={this.toggleOptions} className={!isDone ? toggleClass : toggleClass + 'gamepage__toggle--hidden'}>\n            <span className=\"fa fa-bars\"></span>\n          </button>{\n          displayOptions ? <Options restartLevel={this.restartLevel} undoMove={this.undoMove} memory={memory} isDone={isDone}/> : \n          !isDone ? <Controls handleButton={this.handleButton}/> : \n            <div>\n              <GameOver />\n              <Options restartLevel={this.restartLevel} undoMove={this.undoMove} memory={memory} isDone={isDone} level={Number(this.props.match.params.id)}/>\n            </div>\n        }</div> \n        <div className=\"gamepage--desktopView\">\n          {!isDone ? <Controls handleButton={this.handleButton}/> : <GameOver />}\n          <Options restartLevel={this.restartLevel} undoMove={this.undoMove} memory={memory} isDone={isDone} level={Number(this.props.match.params.id)}/>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default class page404 extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"page\">\r\n        <div className=\"page__header\">\r\n          <h1>Page 404</h1>\r\n          <p className=\"page__description\">Sorry. The page does not exist</p>\r\n        </div>\r\n        <Link className=\"button button--bordered\" to=\"/\">Back to Home</Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\n\n// pages\nimport Home from \"./pages/home\";\nimport Game from \"./pages/game\";\nimport Page404 from \"./pages/page404\";\n\n// data\nimport levels from './data/levels.json';\n\nexport default class App extends React.Component {\n  state = {\n    completeLevels: []\n  }\n\n  addToCompleteLevels = level => () => {\n    this.setState({\n      completeLevels: [...this.state.completeLevels, level]\n    })\n  }\n\n  render() {\n    return (\n      <HashRouter>\n        <Switch>\n          <Route exact path=\"/\" render={() => <Home completeLevels={this.state.completeLevels}/>} />\n          <Route exact path=\"/game/:id\" render={(props) => {\n            const level = Number(props.match.params.id);\n            const withinLevel = level > 0 && level <= levels.classic.length;\n        \n            if (isNaN(level) || !withinLevel) return <Page404 />\n\n            return <Game {...props} addToCompleteLevels={this.addToCompleteLevels}/>\n          }} />\n\n          <Route component={Page404} />\n        </Switch>\n      </HashRouter>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Router from \"./router\";\n\nimport './css/style.css';\n\nfunction App() {\n  return <Router />;\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}